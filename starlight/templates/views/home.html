{% extends "base.html" %}

{% load staticfiles %}

{% load i18n %}

{% block title %}{% trans "Home" %}{% endblock %}

{% block content %}

<h1 class="ui black image header">
    <div class="content">
        {% trans "Knowledge Table" %}
    </div>
</h1>

<div class="competency-table">
    <table class="ui inverted center aligned blue table">
        <thead>
        <tr>
            <td></td>
            <th colspan="100" align="center">Skill</th>
        </tr>
        <tr>
            <th>Employee</th>
            {% for skill in skills %}
            <td align="center">
                {{skill.name}}
            </td>
            {% endfor %}
        </tr>
        </thead>

        <tbody>
        {% for employee in employees %}
        <tr>
            <th align="center">{{employee.full_name}}</th>
            {% for skill in skills %}
                {% for employee_competency in employee.competencies.all %}
                    {% if skill == employee_competency.skill %}
                    <td>
                        {{ employee_competency.get_interest_display|safe }}, {{ employee_competency.get_experience_display|safe }}
                    </td>
                    {% endif %}
                {% endfor %}
                <td>
                    -
                </td>
            {% endfor %}
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}