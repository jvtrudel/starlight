{% extends "base.html" %}

{% load staticfiles %}

{% load i18n %}

{% block title %}{% trans "Home" %}{% endblock %}

{% block content %}

{% load starlight_extras %}

<div class="ui competency-container">
  <h1 class="ui black header">{% trans "Knowledge Table" %}</h1>

  <div class="competency-table">
    <table class="ui inverted center aligned black table">
      <thead>
        <tr>
          <th colspan="{{employees|length}}" align="center">{% trans "Employees" %}</th>
        </tr>
        <tr>
          <th> </th>
          {% for team in teams %}
          <td colspan="{{ team|get_employees|length }}" align="center">
            {{team.name}}
          </td>
          {% endfor %}
        </tr>
      </thead>

      <tbody>
        <tr>
            <td>
                Skill
            </td>
            {% for employee in employees %}
                <td>{{ employee }}</td>
            {% endfor %}
        </tr>



        {% for employee in employees %}
          <tr>
            <th align="center">{{employee}}</th>
            {% for skill in skills %}
              {% if not skill|search:employee.competencies.all %}
                <td>
                    -
                </td>
              {% else %}
                {% for employee_competency in employee.competencies.all %}
                  {% if skill == employee_competency.skill %}
                    <td>
                      {{ employee_competency.get_interest_display }}, {{ employee_competency.get_experience_display }}
                    </td>
                  {% endif %}
                {% endfor %}
              {% endif %}
            {% endfor %}
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
